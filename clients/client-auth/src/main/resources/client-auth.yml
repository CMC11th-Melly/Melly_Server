client:
  oauth:
    uri:
      kakao: https://kapi.kakao.com/v2/user/me
      naver: https://openapi.naver.com/v1/nid/me
      google: https://oauth2.googleapis.com/tokeninfo
      apple: https://appleid.apple.com/auth/keys

spring.cloud.openfeign:
  client:
    config:
      default:
        connectTimeout: 1000
        readTimeout: 2000
        loggerLevel: full

  httpclient:
    max-connections: 2000 # 전체 커넥션 수를 나타낸다
    max-connections-per-route: 500 # Route당 할당되는 최대 커넥션 수를 나타낸다

  circuitbreaker:
    enabled: true

resilience4j.circuitbreaker:
  configs:
    default:
      slidingWindowType: COUNT_BASED
      minimumNumberOfCalls: 7
      slidingWindowSize: 10
      waitDurationInOpenState: 10s

      failureRateThreshold: 80

      slowCallDurationThreshold: 3000
      slowCallRateThreshold: 80

      permittedNumberOfCallsInHalfOpenState: 5
      automaticTransitionFromOpenToHalfOpenEnabled: true

      eventConsumerBufferSize: 10

      recordFailurePredicate: cmc.mellyserver.clientauth.DefaultExceptionRecordFailurePredicate

  instances:
    default:
      baseConfig: default

resilience4j.timelimiter:
  configs:
    default:
      timeoutDuration: 5s
      cancelRunningFuture: true